# .github/workflows/search-files.yml
name: Buscar archivos espec√≠ficos1

on:
 
  workflow_dispatch:


jobs:
  find-files:
    runs-on: ubuntu-latest
    steps:
      - name: Clonar repositorio
        uses: actions/checkout@v3

      - name: Buscar y notificar archivos
        run: |
          required_files=(
            "delivery.json"
            "jira-ocd.json"
            "movejobs.yml"
            "testing.json"
          )

          missing=false

          for filename in "${required_files[@]}"; do
            echo "üîç Buscando ${filename}..."
            result=$(find . -type f -name "$filename" -print -quit)

            if [ -z "$result" ]; then
              echo "::error::No se encontr√≥ '${filename}'"
              missing=true
            else
              echo "‚úÖ Archivo '${filename}' encontrado en: ${result}"
            fi
          done

          if [ "$missing" = true ]; then
            echo "Al menos un archivo no fue encontrado. Marcando fallo."
            exit 1
          else
            echo "Todos los archivos requeridos fueron encontrados."
          fi
